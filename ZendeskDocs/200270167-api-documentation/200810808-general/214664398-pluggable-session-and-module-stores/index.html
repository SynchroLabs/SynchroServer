
<html>
  <head>
    <meta charset='UTF-8'>
    <link rel='stylesheet' href='http://output.jsbin.com/gefofo.css' />
  </head>
  <body>
    <div id='container'>
    
      <h1>Pluggable Session and Module Stores</h1>
      <p>Synchro uses a <strong>session store</strong> to track client sessions, which includes all live application state.  Synchro also uses a<strong> module store</strong> to load (and deploy/update) its modules (your Synchro app code).  By default, Synchro uses built-in lightweight implementations of these stores (an in-memory session store, and a local-file module store) that require no configuration.</p>
<p>Other session store and module store implementations are provided for use in production deployments, including support for a session store on Redis, and module stores on Microsoft Azure, Amazon AWS, Google GCloud, OpenStack (including IBM BlueMix), and more.  </p>
<p>Note: Configuration examples given below are in JSON format, as they would appear in your config.json file.  These configuration settings may also be specified via environment variables.  It is even possible to specify some of the configuration in config.json and some in environment variables (a common use case of this model would be to put the passwords in environment variables and everything else in config.json).  For more information about how to specify configuration information, see: <a href="/hc/en-us/articles/205274228-Server-Configuration">Server Configuration</a>.</p>
<h2>Session Stores</h2>
<h3><code>MemorySessionStore</code></h3>
<p>In memory, lightweight, not persistent.  No configuration.</p>
<h3><code>FileSessionStore</code></h3>
<p>In memory, disk backed, lightweight, persistent.  This session store is typically used for testing where persistence is required across instances (restarts).  It also allows inspection of the session data in real-time or post-mortem.</p>
<p>Configuration: </p>
<pre><code>"SESSIONSTORE_SERVICE": "FileSessionStore"
"SESSIONSTORE": {
  "sessionStateFile": "sessions.json"
}</code></pre>
<h3><code>RedisSessionStore</code></h3>
<p>Robust, highly scalable production session store on Redis.  All production deployments should use this session store.  Managed Redis services are available on every integrated cloud service platform (including Azure, Amazon AWS, IBM BlueMix, and many others), or you may choose to use a Redis server that you manage.</p>
<p>Configuration:</p>
<pre><code>"SESSIONSTORE_SERVICE": "RedisSessionStore"
"SESSIONSTORE": {
  "host": "xxxxxx",
  "port": 6379,
  "password": "xxxxxx"
}</code></pre>
<h2> </h2>
<h2>Module Stores</h2>
<h3><code>FileModuleStore</code></h3>
<p>Lightweight, local file storage.  No configuration is required, unless you want to change the root directory of the module store.</p>
<p>Configuration:</p>
<pre><code>"MODULESTORE_SERVICE": "FileModuleStore"
"MODULESTORE": {
  "directory": "synchro-apps"
}</code></pre>
<h3><code>PkgCloudModuleStore</code></h3>
<p>Using PkgCloud module to access storage across a wide variety of storage backends, including Amazon, Azure, Google, HP, OpenStack (including IBM BlueMix), and RackSpace.  For details on configuring this module store to use a storage option not detailed below, see the <a href="https://github.com/pkgcloud/pkgcloud#storage">PkgCloud project docs</a>.</p>
<p>Configuration:</p>
<p>For all module stores using PkgCloud: </p>
<pre><code>"MODULESTORE_SERVICE": "PkgCloudModuleStore"</code></pre>
<p>For Azure add:</p>
<pre><code>"MODULESTORE": {
  "provider": "azure",
  "storageAccount": "xxxxxx",
  "storageAccessKey": "xxxxxx"
} </code></pre>
<p>For Amazon S3 add:</p>
<pre><code>"MODULESTORE": {
  "provider": "amazon",
  "keyId": "xxxxxx", // access key id
  "key": "xxxxxx", // secret key
  "region": "xxxxxx" // region
}</code></pre>
<p>For IBM BlueMix (OpenStack) add:</p>
<pre><code>"MODULESTORE": {
  "provider": "openstack",
  "keystoneAuthVersion": "v3",
  "authUrl": "https://identity.open.softlayer.com/",
  "region": "xxxxxx",
  "tenantId": "XXXXXXXX", // projectId as provided in your Service Credentials
  "username": "XXXXXXXX",
  "password": "XXXXXXXX",
  "domainId": "XXXXXXXX",
  "domainName": "XXXXXXXX"
}</code></pre>
<p> </p>
      
    </div>
  </body>
</html>
    
