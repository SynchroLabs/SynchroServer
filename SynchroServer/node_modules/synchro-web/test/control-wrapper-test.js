require('./test');

var assert = require("assert")
require("./assert-helper");

var ControlWrapper = require('../client/core/control-wrapper');
var JToken = require('../client/core/json');

describe("ControlWrapper", function () 
{
    it("should get color by name", function()
    {
        var color = ControlWrapper.getColor("NavajoWhite");
        assert.equal(0xFF, color.a);
        assert.equal(0xFF, color.r);
        assert.equal(0xDE, color.g);
        assert.equal(0xAD, color.b);
    });

    it("should get color by #RRGGBB", function()
    {
        var color = ControlWrapper.getColor("#FFDEAD");
        assert.equal(0xFF, color.a);
        assert.equal(0xFF, color.r);
        assert.equal(0xDE, color.g);
        assert.equal(0xAD, color.b);
    });

    it("should get color by #AARRGGBB", function()
    {
        var color = ControlWrapper.getColor("#80FFDEAD");
        assert.equal(0x80, color.a);
        assert.equal(0xFF, color.r);
        assert.equal(0xDE, color.g);
        assert.equal(0xAD, color.b);
    });

    it("should get star count with only star", function()
    {
        var stars = ControlWrapper.getStarCount("*");
        assert.equal(1, stars);
    });

    it("should get start count with number and star", function()
    {
        var stars = ControlWrapper.getStarCount("69*");
        assert.equal(69, stars);
    });

    it("should get 0 star count with number only", function()
    {
        var stars = ControlWrapper.getStarCount("69");
        assert.equal(0, stars);
    });

    it("should get 0 start count with empty string", function()
    {
        var stars = ControlWrapper.getStarCount("");
        assert.equal(0, stars);
    });

    it("should get 0 star count with null", function()
    {
        var stars = ControlWrapper.getStarCount(null);
        assert.equal(0, stars);
    });

    it("should convert value to string", function()
    {
        var ctlWrapper = new ControlWrapper();
        assert.equal("foo", ctlWrapper.toString(new JToken("foo")));
    });

});