<html>
  <head>
    <link rel="stylesheet" type="text/css" href="stylesheets/synchro.css">
  </head>
  <body>
    <h1>SynchroWebClient <button type='button' id='synchro_back' style='visibility: hidden'>Back</button></h1>

    <!-- Page title -->
    <h2 id='synchro_title'></h2>

    <!-- Main Synchro container -->
    <div id='synchro_container' class='synchro'></div>

    <!-- All the code -->
    <script type="text/javascript">
        function SynchroInit(synchro)
        {
            console.log("Synchro init called");

            var backButton = document.getElementById('synchro_back');
            if (backButton)
            {
                backButton.addEventListener("click", function(){ synchro.goBack() }, false);
            }

            var synchroApp =
            {
                endpoint: "{{endpoint}}", // required
                container: document.getElementById('synchro_container'), // required
                onSetPageTitle: function(title) // optional
                {
                    console.log("Page title set:", title);
                    document.getElementById('synchro_title').innerHTML = title;
                },
                onSetBackEnabled: function(isEnabled) // optional
                {
                    console.log("Back enabled:", isEnabled);
                    if (backButton)
                    {
                        backButton.style.visibility = isEnabled ? "visible" : "hidden";
                    }
                },
                /*
                onMessageBox: function(messageBox, execCommand) // optional
                {
                    console.log("MessageBox:" + messageBox.message);
                },
                */
                // logConfig: {}, // optional, developer setting
            }

            return synchroApp;
        }        
    </script>
    <script src="script/synchro.js"></script>
  </body>
</html>
